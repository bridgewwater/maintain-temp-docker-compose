<!DOCTYPE html>
<html lang="en">

<head>
  <link href="/static/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <div class="container">
    <div class="header">
      <h3 class="text-muted">How To Get The IP Address Of The User</h3>
    </div>
    <hr/>
    <div>
      You IP address is:
      <strong>{{user_ip}}</strong>
      <div class="header">
        <h3 class="text-muted">Code to retrieve the IP</h3>
      </div>
      <div>
        Server IP address is:
        <strong>{{host_ip}}</strong>
      </div>
      <hr/>
      <pre>
from flask import Flask, render_template, request
# Initialize the Flask application
app = Flask(__name__)
# Default route, print user's IP
@app.route('/')
def index():
  ip = request.remote_addr
  return render_template('index.html', user_ip=ip)
</pre>
    </div>
    <div>
      Now Request Browser is:
      <p id="browserType">XX Browser</p>
    </div>
  </div>
</body>

<script type="text/javascript">
  var Sys = {};
  var ua = navigator.userAgent.toLowerCase();
  var s;
  (s = ua.match(/msie ([\d.]+)/)) ? Sys.ie = s[1]:
    (s = ua.match(/firefox\/([\d.]+)/)) ? Sys.firefox = s[1] :
    (s = ua.match(/chrome\/([\d.]+)/)) ? Sys.chrome = s[1] :
    (s = ua.match(/opera.([\d.]+)/)) ? Sys.opera = s[1] :
    (s = ua.match(/version\/([\d.]+).*safari/)) ? Sys.safari = s[1] : 0;
  //以下进行测试
  if (Sys.ie) document.getElementById('browserType').innerHTML = ('IE: ' + Sys.ie);
  if (Sys.firefox) document.getElementById('browserType').innerHTML = ('Firefox: ' + Sys.firefox);
  if (Sys.chrome) document.getElementById('browserType').innerHTML = ('Chrome: ' + Sys.chrome);
  if (Sys.opera) document.getElementById('browserType').innerHTML = ('Opera: ' + Sys.opera);
  if (Sys.safari) document.getElementById('browserType').innerHTML = ('Safari: ' + Sys.safari);
</script>

</html>